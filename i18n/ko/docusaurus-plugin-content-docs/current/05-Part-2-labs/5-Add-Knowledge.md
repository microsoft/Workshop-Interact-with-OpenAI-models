# 지식 추가하기

:::note 일러두기
이 페이지는 기계 번역을 통해 한국어로 번역했습니다. 어색한 표현이 있을 수 있으니 양해 바랍니다.
:::

:::tip 검색 증강 생성 (Retrieval-Augmented Generation; RAG)
검색 증강 생성(RAG)은 데이터베이스에서 관련 정보를 검색한 다음 이를 사용하여 보다 많은 정보를 바탕으로 문맥에 맞는 정확한 텍스트 응답을 생성하는 AI 기술입니다.
:::

이 실습에서는 대화에 새로운 지식을 추가해 보겠습니다. 이는 프로덕션 시나리오에서 자체 데이터를 추가하는 프로세스가 어떻게 작동하는지 설명하기 위한 것입니다. 데이터를 수동으로 추가할 예정이지만 다양한 기술과 도구를 사용하여 데이터를 검색하고 어시스턴트와의 대화에 추가할 수 있습니다.

## 현재 정보 추가하기:

사용자가 회사에서 판매하는 제품에 대해 질문하고 추천을 받을 수 있는 아웃도어 하이킹 회사의 어시스턴트를 만든다고 가정해 봅시다.

진흙 투성이의 산을 여행하기 위해 고객이 등산화를 찾고 있습니다.

```text title="사용자 프롬프트에 입력:"
진흙탕 여행에 적합한 등산화를 추천해 주시겠습니까?
```

이 모델은 많은 훌륭한 제안을 반환하지만 우리 회사에서 판매하고 있는 제품은 하나도 없다는 것을 알 수 있습니다.

런타임에 모델에 올바른 정보를 제공하고 미세 조정 없이 이 문제를 해결해 보겠습니다.

먼저 어시스턴트에게 특정 작업을 부여하는 것부터 시작하겠습니다.

```text title="시스템 메시지에 입력:"
## 작업
귀하는 트레일워커 하이킹 신발 매장 AI 어시스턴트입니다. 
사용자가 신발 제품에 대한 질문에 답할 수 있도록 도와줍니다.
검색 결과에는 제품 정보가 포함된 검색된 문서가 제공됩니다.
답변은 가능한 한 정확해야 합니다.
답변은 제품 정보가 포함된 검색된 문서에서만 제공해야 합니다.
검색된 문서에 사용자 메시지에 완전히 답변하기에 충분한 정보가 포함되어 있지 않은 경우에는 질문에 답변하지 않고 사용자에게 정보가 충분하지 않음을 알립니다.

## 검색된 문서
정보를 찾을 수 없습니다.
```

```text title="사용자 프롬프트에 입력:"
진흙길 여행에 적합한 등산화를 추천해 주시겠어요?
```

어시스턴트가 질문에 답하기에 정보가 충분하지 않다고 응답합니다.

이제 프롬프트에 몇 가지 제품 정보를 추가해 보겠습니다. 데이터베이스에서 검색 쿼리를 수행하여 아래 제품을 다시 가져왔다고 가정해 보세요.

검색된 문서로 시스템 메시지를 업데이트합니다:

```text title="시스템 메시지에 입력:"
귀하는 트레일워커 하이킹 신발 매장 AI 어시스턴트입니다. 
신발 제품에 대한 사용자의 질문에 답할 수 있도록 도와줍니다.
검색 결과는 제품 정보가 포함된 검색된 문서로 제공됩니다.
답변은 가능한 한 정확해야 합니다.
답변은 제품 정보가 포함된 검색된 문서에서만 제공해야 합니다.
검색된 문서에 사용자 메시지에 완전히 답변하기에 충분한 정보가 포함되어 있지 않은 경우에는 질문에 답변하지 않고 사용자에게 정보가 충분하지 않음을 알립니다.

## 검색된 문서

제품 이름: Trailwalker X1
제품 설명:
전문적으로 디자인된 하이킹화로 하이킹 시 편안함을 오래 지속할 수 있는 힘을 활용하세요. 쿠션감 있는 깔창, 지지력 있는 발목 칼라, 통기성 소재가 특징인 이 제품은 트레일을 걸을 때마다 발을 편안하게 감싸줍니다. 물집과 피로와 작별하고 즐거운 장거리 트레킹을 즐겨보세요.

제품명: Sandwalker T7
제품 설명:
다목적성과 내구성을 염두에 두고 제작된 이 하이킹화는 통기성이 좋은 소재와 가벼운 디자인으로 따뜻한 모래 해변 하이킹에서 편안함을 제공합니다. 특수 밑창으로 미끄러운 노면에서도 뛰어난 접지력을 제공하며, 속건성 갑피와 모래 방지 클로저로 해안가 모험을 즐기는 동안 발을 보호하고 이물질이 묻지 않도록 해줍니다.

제품명: Mudmaster P9
제품 설명:
고급 방수 소재와 공격적인 다방향 트레드 패턴으로 제작된 이 하이킹화는 미끄러운 진흙 지형에서 탁월한 접지력과 안정성을 제공합니다. 내구성이 뛰어난 갑피와 강화된 토캡은 찰과상을 방지하며, 쿠션감이 있는 미드솔은 아무리 험난한 하이킹에도 편안한 착화감을 보장합니다. 통기성을 염두에 두고 설계되어 습하고 까다로운 환경에서도 건조하고 쾌적한 발 환경을 유지할 수 있습니다. 진흙과 거친 트레일에도 굴하지 않는 모험적인 하이커에게 이상적입니다.

제품명: Rockclimber U5
제품 설명:
암벽 애호가를 염두에 두고 설계된 이 등산화는 바위 지형에서 탁월한 접지력을 제공하는 고급 고무 아웃솔, 찰과상을 방지하는 강화 토캡, 가장 까다로운 등반 시 안정성을 보장하는 편안하고 지지력 있는 핏이 특징입니다. 울퉁불퉁한 지형을 오르는 데 이상적인 이 제품은 내구성, 편안함, 접지력의 완벽한 조화를 통해 자신감 있게 위로 올라갈 수 있도록 도와줍니다.
```

대화를 정리하고 다시 질문하세요.

```text title="사용자 프롬프트에 입력:"
진흙길 여행에 적합한 하이킹화를 추천해 주시겠어요?
```

어시스턴트가 Mudmaster P9 신발을 추천해 줍니다.

### Retrieval-Augmented Generation (RAG)

Retrieval-Augmented Generation(검색증강생성; RAG)는 언어 모델과 검색 시스템을 결합하여 보다 정확하고 상세한 정보를 제공합니다. 필요한 단계는 다음과 같습니다:

1. **질문하기**: RAG 시스템에 더 자세한 정보를 원하는 질문이나 프롬프트를 제공하는 것으로 시작합니다.  

2. **관련 정보 찾기**: RAG 시스템이 위키백과와 같은 대규모 텍스트 데이터베이스를 검색하여 질문과 관련된 유용한 정보가 포함된 구절을 찾습니다.  

3. **가장 중요한 부분  선택하기**: 시스템이 검색 중에 찾은 가장 관련성이 높은 정보를 골라 질문에 답하는 데 도움을 줍니다.  

4. **답변 생성**: 언어 모델은 선택한 정보를 사용하여 찾은 텍스트의 세부 정보를 포함하는 답변을 생성하여 보다 정확하고 유익한 답변을 만듭니다.  
5. **답변  전달**: 검색에서 찾은 특정 정보로 강화된 답변을 제공하므로 질문에 대한 보다 정확하고 풍부한 정보를 제공하는 답변을 받을 수 있습니다.

![검색 증강 생성](./../images/rag.png)

:::info 더 자세히 알고 싶으신가요?
워크샵에 참여하세요: "Azure AI Studio의 프롬프트플로에서 RAG 애플리케이션 빌드".
[여기에서 Microsoft AI 투어 일정 찾기](https://envision.microsoft.com/home)
:::
